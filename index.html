<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>My Refund – Daily Workflow</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
@font-face { font-family:'Okta Neue'; src: local('Okta Neue'); }
:root{
  --green-dark:#094B35;
  --green:#03953F;
  --green-soft:#ECFDF5;
  --border:#e5e7eb;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:'Okta Neue', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  background:#f6f7f8;
  color:#111827;
}
header{
  display:flex;
  align-items:center;
  padding:16px 24px;
  background:#fff;
  border-bottom:1px solid var(--border);
}
header img{max-width:150px}
main{
  max-width:900px;
  margin:40px auto;
  padding:0 20px;
}
.hero{
  background:var(--green-soft);
  border-radius:20px;
  padding:28px;
  margin-bottom:28px;
}
.hero h1{
  margin:0 0 6px 0;
  color:var(--green-dark);
}
.hero p{
  margin:0;
  color:#065f46;
  font-weight:500;
}
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(200px,1fr));
  gap:14px;
}
.user-card{
  background:#fff;
  border:1px solid var(--border);
  border-radius:16px;
  padding:18px;
  text-align:left;
  cursor:pointer;
  transition:all .15s ease;
}
.user-card:hover{
  border-color:var(--green);
  box-shadow:0 6px 18px rgba(0,0,0,.06);
  transform:translateY(-1px);
}
.user-name{
  font-weight:800;
}
.user-role{
  font-size:12px;
  color:#6b7280;
  margin-top:4px;
}
.admin-badge{
  display:inline-block;
  margin-top:10px;
  padding:4px 8px;
  border-radius:999px;
  font-size:11px;
  font-weight:700;
  background:var(--green-dark);
  color:#fff;
}
footer{
  text-align:center;
  margin-top:40px;
  font-size:12px;
  color:#6b7280;
}
</style>
</head>
<body>

<header>
  <img src="logo.png" alt="My Refund">
</header>

<main>
  <div class="hero">
    <h1>Daily Workflow</h1>
    <p>Select your name to begin your day.</p>
  </div>

  <div class="grid" id="users"></div>

  <footer>
    Internal system · My Refund
  </footer>
</main>

<script>
const USERS_KEY="users";

let users = JSON.parse(localStorage.getItem(USERS_KEY) || "null");
if(!users){
  users=[
    {id:"u_admin", name:"Drew", role:"admin"},
    {id:"u_1", name:"Sarah", role:"staff"},
    {id:"u_2", name:"Alex", role:"staff"}
  ];
  localStorage.setItem(USERS_KEY, JSON.stringify(users));
}

const box = document.getElementById("users");

users.forEach(u => {
  const div = document.createElement("div");
  div.className = "user-card";
  div.onclick = () => login(u);
  div.innerHTML = `
    <div class="user-name">${u.name}</div>
    <div class="user-role">${u.role === "admin" ? "Administrator" : "Staff member"}</div>
    ${u.role === "admin" ? '<div class="admin-badge">Admin</div>' : ''}
  `;
  box.appendChild(div);
});

function login(u){
  localStorage.setItem("user", JSON.stringify(u));
  const day = new Date().toISOString().slice(0,10);
  if(u.role === "staff" && !localStorage.getItem(`shift::${u.id}::${day}::start`)){
    localStorage.setItem(`shift::${u.id}::${day}::start`, new Date().toISOString());
  }
  location.href = u.role === "admin" ? "admin.html" : "staff.html";
}
</script>

</body>
</html>
